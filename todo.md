# ProDiscovery - Project TODO

- [x] Database schema (projects, data_files, analyses, feature_proposals, tasks)
- [x] Design system and global theming (professional B2B indigo/slate palette)
- [x] Dashboard layout with sidebar navigation
- [x] Project management (create, list, view, delete projects)
- [x] Data upload interface (text/CSV files with validation)
- [x] S3 storage integration for uploaded files
- [x] AI analysis engine (LLM-powered feedback analysis)
- [x] Insights dashboard with charts (themes, sentiment, feature requests)
- [x] Feature proposal generator (AI-driven detailed outlines)
- [x] Task breakdown system (convert proposals to dev tasks)
- [x] Export capabilities (copy tasks, export data)
- [x] Owner notifications on analysis completion and critical insights
- [x] Landing page / home page (redirects to projects when authenticated)
- [x] Tests for core procedures (31 tests passing)
- [x] Add clickable example customer interview transcripts to Data tab
- [x] Add clickable example product usage CSV data to Data tab
- [x] Ensure examples auto-upload when clicked so full pipeline can be tested immediately
- [x] Company Research: database schema for research jobs and findings
- [x] Company Research: backend web search + LLM analysis pipeline
- [x] Company Research: frontend URL input form and research trigger
- [x] Company Research: results dashboard with positive/negative sentiment categorization
- [x] Company Research: sentiment charts and insight cards
- [x] Company Research: new Research tab in project workspace
- [x] Remove OAuth requirement - app should work without sign-in
- [x] Update frontend pages to remove auth gates and sign-in prompts
- [x] Update backend to use a default user instead of requiring auth context
- [x] Update DashboardLayout to remove login/logout UI
- [x] Update landing page to link directly to /projects without auth
- [x] Full E2E testing of all features - ALL 8 TESTS PASSED
- [x] Add backend endpoint to fetch file contents from S3 storage
- [x] Build transcript viewer with speaker highlighting and formatting
- [x] Build CSV viewer with interactive table (sorting, filtering) and summary charts
- [x] Add click-to-preview on uploaded files in Data tab
- [x] Add file preview dialog/panel with proper rendering
- [x] Add source URLs to each company research finding for fact-checking
- [x] Update research schema to include sourceUrl field
- [x] Update LLM prompt to extract source URLs with findings
- [x] Display source links in Research tab findings UI
- [x] Replace expanded example transcript cards with compact "Load Example Data" button
- [x] Replace expanded example CSV cards with compact "Load Example Data" button
- [x] Add logout button to sidebar that clears session and returns to homepage
- [x] Add return-to-homepage link/button in sidebar navigation
- [x] Rename app from ProDiscovery to ProductFlow across all files
- [x] Fix Company Research to use real web search results instead of LLM-hallucinated URLs
- [x] Search web first for real articles/reviews, then pass real content to LLM for analysis
- [x] Ensure every research finding has a verified, real source URL
- [x] Restore OAuth login flow - require authentication to access app
- [x] Restore auth gate in DashboardLayout (show sign-in screen for unauthenticated users)
- [x] Restore protectedProcedure enforcement (remove fallback user bypass)
- [x] Keep landing page public, require login for /projects and workspace
- [x] Add login count tracking to users table
- [x] Add user stats endpoint (total users, recent logins)
- [x] Add admin users page showing all registered users with login counts
- [x] Remove admin Users page (AdminUsers.tsx)
- [x] Remove admin router endpoints from server routers
- [x] Remove admin sidebar link from DashboardLayout
- [x] Remove admin route from App.tsx
- [x] Update tests to remove admin test cases
- [x] Add Stripe integration to project via webdev_add_feature
- [x] Design freemium pricing model (Free / Pro / Team tiers)
- [x] Add subscription/plan tracking to database schema
- [x] Build Stripe checkout and subscription management endpoints
- [x] Build pricing section on landing page with tier comparison
- [x] Build plan upgrade/manage UI in the dashboard
- [x] Enforce usage limits based on plan tier (projects, analyses, research)
- [x] Add billing portal link for subscription management
- [x] Write vitest tests for subscription logic
- [x] Increase pricing tiers (Pro ~$49, Team ~$129) to reflect AI research costs
- [x] Update pricing copy to justify premium with cost-of-research messaging
- [x] Update landing page pricing preview section with new prices
- [x] Update Pricing.tsx with new prices and value justification
- [x] Update billing test expectations for new prices
